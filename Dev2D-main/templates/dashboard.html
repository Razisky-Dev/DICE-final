{% extends 'dashboard_layout.html' %}

{% block content %}

<!-- Greeting -->
<div class="mb-4">
    <h3>Hello, {{ current_user.first_name or current_user.username }} ðŸ‘‹</h3>
    <p class="text-muted">Welcome back to your dashboard</p>
</div>

<!-- Wallet Summary -->
<div class="row g-4 mb-5">
    <div class="col-md-4">
        <div class="card text-white bg-primary h-100 shadow-sm border-0">
            <div class="card-body">
                <h5 class="card-title opacity-75">Wallet Balance</h5>
                <p class="card-text display-6 fw-bold mb-4">
                    GHâ‚µ{{ "{:,.2f}".format(balance) }}
                </p>
                <div class="d-flex gap-2">
                    <a href="{{ url_for('wallet') }}" class="btn btn-light btn-sm fw-bold px-3 rounded-pill">Manage
                        Wallet</a>
                </div>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card text-white bg-success h-100 shadow-sm border-0">
            <div class="card-body">
                <h5 class="card-title opacity-75">Total Orders</h5>
                <p class="card-text display-6 fw-bold">0</p>
            </div>
        </div>
    </div>

    <div class="col-md-4">
        <div class="card text-white bg-warning h-100 shadow-sm border-0">
            <div class="card-body">
                <h5 class="card-title opacity-75">Recent Activity</h5>
                <p class="card-text">No recent transactions</p>
            </div>
        </div>
    </div>
</div>

<!-- Available Bundles Display (View Only) -->
<div class="mb-5">
    <div class="d-flex align-items-center mb-4">
        <h4 class="fw-bold section-title mb-0">Our Packages</h4>
        <span class="badge bg-light text-muted ms-2 border rounded-pill">View Only</span>
    </div>

    <!-- Network Tabs -->
    <ul class="nav nav-pills mb-4 network-tabs gap-2" role="tablist">
        <li class="nav-item">
            <button class="nav-link active mtn-tab px-4" data-bs-toggle="pill" data-bs-target="#view-mtn">MTN</button>
        </li>
        <li class="nav-item">
            <button class="nav-link telecel-tab px-4" data-bs-toggle="pill"
                data-bs-target="#view-telecel">TELECEL</button>
        </li>
        <li class="nav-item">
            <button class="nav-link airteltigo-tab px-4" data-bs-toggle="pill"
                data-bs-target="#view-airteltigo">AIRTELTIGO</button>
        </li>
    </ul>

    <div class="tab-content">
        <!-- MTN View -->
        <div class="tab-pane fade show active" id="view-mtn">
            <div class="row g-3">
                {% for plan in data_bundles["MTN"] %}
                <div class="col-6 col-md-4 col-lg-3">
                    <div class="card border-0 shadow-sm h-100" style="background: #fff8e1;">
                        <div class="card-body text-center p-4">
                            <div class="mb-3">
                                <span class="badge bg-warning text-dark rounded-pill">MTN</span>
                            </div>
                            <h4 class="mb-1 fw-bold">{{ plan.size }}</h4>
                            <h5 class="text-warning fw-bold mb-0">{{ plan.price }}</h5>
                        </div>
                    </div>
                </div>
                {% endfor %}
            </div>
        </div>

        <!-- Telecel View -->
        <div class="tab-pane fade" id="view-telecel">
            <div class="text-center py-5 bg-light rounded-4">
                <i class="bi bi-wifi-off fs-1 text-muted opacity-50 mb-2 d-block"></i>
                <span class="text-muted">No Telecel packages available</span>
            </div>
        </div>

        <!-- AirtelTigo View -->
        <div class="tab-pane fade" id="view-airteltigo">
            <div class="text-center py-5 bg-light rounded-4">
                <i class="bi bi-wifi-off fs-1 text-muted opacity-50 mb-2 d-block"></i>
                <span class="text-muted">No AirtelTigo packages available</span>
            </div>
        </div>
    </div>
</div>

<style>
    .network-tabs .nav-link {
        border-radius: 20px;
        color: #6c757d;
        background: white;
        border: 1px solid #dee2e6;
        transition: all 0.2s;
    }

    .mtn-tab.active {
        background-color: #ffcc00 !important;
        color: black !important;
        border-color: #ffcc00;
    }

    .telecel-tab.active {
        background-color: #e60000 !important;
        color: white !important;
        border-color: #e60000;
    }

    .airteltigo-tab.active {
        background-color: #0033cc !important;
        color: white !important;
        border-color: #0033cc;
    }
</style>



{% endblock %}